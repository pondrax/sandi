import{S as te,i as ie,s as ae,e as D,k as P,t as q,w as A,l as z,J as se,c as k,a as L,d as $,m as I,h as x,x as B,W as K,b as R,H as O,g as b,y as N,T as Y,o as F,p as ne,q as H,B as U,X as re,j as oe,n as le,V as Z,Y as ce,Z as he,_ as de,E as j}from"../chunks/index-29d38ad4.js";import{h as ue}from"../chunks/api-5cbe99c8.js";import{B as J,E as ee}from"../chunks/variables-3aad20e0.js";import{I as me}from"../chunks/textarea-1d1d380a.js";import"../chunks/index-a832b3bb.js";const G=!0;class l{constructor(e,t,i,a,s){this._legacyCanvasSize=l.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),i&&typeof i=="object"?this._onDecode=t:(console.warn(i||a||s?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t=typeof i=="object"?i:{},this._onDecodeError=t.onDecodeError||(typeof i=="function"?i:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||s||this._preferredCamera,this._legacyCanvasSize=typeof i=="number"?i:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let n=!1;if(e.hidden&&(e.hidden=!1,n=!0),document.body.contains(e)||(document.body.appendChild(e),n=!0),i=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(a=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),s=this.$overlay.style,s.position="absolute",s.display="none",s.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}i.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let f=window.getComputedStyle(e);f.display==="none"&&(e.style.setProperty("display","block","important"),n=!0),f.visibility!=="visible"&&(e.style.setProperty("visibility","visible","important"),n=!0),n&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=l.createQrEngine()}static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await l.listCameras(!1)).length}catch{return!1}}static async listCameras(e=!1){if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),i;try{e&&(await t()).every(a=>!a.label)&&(i=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await t()).map((a,s)=>({id:a.deviceId,label:a.label||(s===0?"Default Camera":`Camera ${s+1}`)}))}finally{i&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),l._stopVideoStream(i))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch{return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),l._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),l._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?l._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(e=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(l._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(i=>setTimeout(i,300)),this._paused?(t(),!0):!1)}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,i,a,s=!1,n=!1){let f,v=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(f=t.scanRegion,i=t.qrEngine,a=t.canvas,s=t.disallowCanvasResizing||!1,n=t.alsoTryWithoutScanRegion||!1,v=!0):console.warn(t||i||a||s||n?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!i;try{let _,c;[i,_]=await Promise.all([i||l.createQrEngine(),l._loadImage(e)]),[a,c]=l._drawToCanvas(_,f,a,s);let y;if(i instanceof Worker){let r=i;t||l._postWorkerMessageSync(r,"inversionMode","both"),y=await new Promise((m,o)=>{let p,h,g,w=-1;h=C=>{C.data.id===w&&(r.removeEventListener("message",h),r.removeEventListener("error",g),clearTimeout(p),C.data.data!==null?m({data:C.data.data,cornerPoints:l._convertPoints(C.data.cornerPoints,f)}):o(l.NO_QR_CODE_FOUND))},g=C=>{r.removeEventListener("message",h),r.removeEventListener("error",g),clearTimeout(p),o("Scanner error: "+(C?C.message||C:"Unknown Error"))},r.addEventListener("message",h),r.addEventListener("error",g),p=setTimeout(()=>g("timeout"),1e4);let S=c.getImageData(0,0,a.width,a.height);w=l._postWorkerMessageSync(r,"decode",S,[S.data.buffer])})}else y=await Promise.race([new Promise((r,m)=>window.setTimeout(()=>m("Scanner error: timeout"),1e4)),(async()=>{try{var[r]=await i.detect(a);if(!r)throw l.NO_QR_CODE_FOUND;return{data:r.rawValue,cornerPoints:l._convertPoints(r.cornerPoints,f)}}catch(m){if(r=m.message||m,/not implemented|service unavailable/.test(r))return l._disableBarcodeDetector=!0,l.scanImage(e,{scanRegion:f,canvas:a,disallowCanvasResizing:s,alsoTryWithoutScanRegion:n});throw`Scanner error: ${r}`}})()]);return v?y:y.data}catch(_){if(!f||!n)throw _;let c=await l.scanImage(e,{qrEngine:i,canvas:a,disallowCanvasResizing:s});return v?c:c.data}finally{t||l._postWorkerMessage(i,"close")}}setGrayscaleWeights(e,t,i,a=!0){l._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:i,useIntegerApproximation:a})}setInversionMode(e){l._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(e){return e&&console.warn("Specifying a worker path is not required and not supported anymore."),!l._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):import("../chunks/qr-scanner-worker.min-ca8a986d.js").then(t=>t.createWorker())}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(.6666666666666666*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,i=e.videoHeight,a=e.offsetWidth,s=e.offsetHeight,n=e.offsetLeft,f=e.offsetTop,v=window.getComputedStyle(e),_=v.objectFit,c=t/i,y=a/s;switch(_){case"none":var r=t,m=i;break;case"fill":r=a,m=s;break;default:(_==="cover"?c>y:c<y)?(m=s,r=m*c):(r=a,m=r/c),_==="scale-down"&&(r=Math.min(r,t),m=Math.min(m,i))}var[o,p]=v.objectPosition.split(" ").map((g,w)=>{const S=parseFloat(g);return g.endsWith("%")?(w?s-m:a-r)*S/100:S});v=this._scanRegion.width||t,y=this._scanRegion.height||i,_=this._scanRegion.x||0;var h=this._scanRegion.y||0;c=this.$overlay.style,c.width=`${v/t*r}px`,c.height=`${y/i*m}px`,c.top=`${f+p+h/i*m}px`,i=/scaleX\(-1\)/.test(e.style.transform),c.left=`${n+(i?a-o-r:o)+(i?t-_-v:_)/t*r}px`,c.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let i=t.x||0,a=t.y||0,s=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1;for(let n of e)n.x=n.x*s+i,n.y=n.y*t+a;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(a=>setTimeout(a,t-e)),this._lastScanTimestamp=Date.now();try{var i=await l.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!l._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=l.createQrEngine()),i?(this._onDecode?this._onDecode(i):this._legacyOnDecode&&this._legacyOnDecode(i.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",i.cornerPoints.map(({x:a,y:s})=>`${a},${s}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==l.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}],i=t.map(a=>Object.assign({},a,{[e]:{exact:this._preferredCamera}}));for(let a of[...i,...t])try{let s=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),n=this._getFacingMode(s)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:s,facingMode:n}}catch{}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+(e==="user"?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,i,a=!1){i=i||document.createElement("canvas");let s=t&&t.x?t.x:0,n=t&&t.y?t.y:0,f=t&&t.width?t.width:e.videoWidth||e.width,v=t&&t.height?t.height:e.videoHeight||e.height;return a||(a=t&&t.downScaledWidth?t.downScaledWidth:f,t=t&&t.downScaledHeight?t.downScaledHeight:v,i.width!==a&&(i.width=a),i.height!==t&&(i.height=t)),t=i.getContext("2d",{alpha:!1}),t.imageSmoothingEnabled=!1,t.drawImage(e,s,n,f,v,0,0,i.width,i.height),[i,t]}static async _loadImage(e){if(e instanceof Image)return await l._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||typeof e=="string"){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await l._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&e.naturalWidth!==0||await new Promise((t,i)=>{let a=s=>{e.removeEventListener("load",a),e.removeEventListener("error",a),s instanceof ErrorEvent?i("Image load error"):t()};e.addEventListener("load",a),e.addEventListener("error",a)})}static async _postWorkerMessage(e,t,i,a){return l._postWorkerMessageSync(await e,t,i,a)}static _postWorkerMessageSync(e,t,i,a){if(!(e instanceof Worker))return-1;let s=l._workerMessageId++;return e.postMessage({id:s,type:t,data:i},a),s}}l.DEFAULT_CANVAS_SIZE=400;l.NO_QR_CODE_FOUND="No QR code found";l._disableBarcodeDetector=!1;l._workerMessageId=0;const{document:X}=re;function fe(d){let e,t;return{c(){e=q("MODE "),t=q(d[0])},l(i){e=x(i,"MODE "),t=x(i,d[0])},m(i,a){b(i,e,a),b(i,t,a)},p(i,a){a&1&&oe(t,i[0])},d(i){i&&$(e),i&&$(t)}}}function ge(d){let e,t,i,a,s,n,f,v,_,c,y,r,m;function o(h){d[8](h)}let p={type:"file",label:"Dokumen"};return d[2].file!==void 0&&(p.value=d[2].file),i=new me({props:p}),Z.push(()=>ce(i,"value",o)),c=new J({props:{disabled:!d[2].captcha,primary:!0,$$slots:{default:[pe]},$$scope:{ctx:d}}}),{c(){e=D("div"),t=D("form"),A(i.$$.fragment),s=P(),n=D("div"),f=P(),v=D("br"),_=P(),A(c.$$.fragment),this.h()},l(h){e=k(h,"DIV",{class:!0});var g=L(e);t=k(g,"FORM",{});var w=L(t);B(i.$$.fragment,w),s=I(w),n=k(w,"DIV",{id:!0}),L(n).forEach($),f=I(w),v=k(w,"BR",{}),_=I(w),B(c.$$.fragment,w),w.forEach($),g.forEach($),this.h()},h(){R(n,"id","recaptcha"),R(e,"class","pt-32 px-6")},m(h,g){b(h,e,g),O(e,t),N(i,t,null),O(t,s),O(t,n),O(t,f),O(t,v),O(t,_),N(c,t,null),y=!0,r||(m=Y(t,"submit",he(d[3])),r=!0)},p(h,g){const w={};!a&&g&4&&(a=!0,w.value=h[2].file,de(()=>a=!1)),i.$set(w);const S={};g&4&&(S.disabled=!h[2].captcha),g&2048&&(S.$$scope={dirty:g,ctx:h}),c.$set(S)},i(h){y||(H(i.$$.fragment,h),H(c.$$.fragment,h),y=!0)},o(h){F(i.$$.fragment,h),F(c.$$.fragment,h),y=!1},d(h){h&&$(e),U(i),U(c),r=!1,m()}}}function ve(d){let e;return{c(){e=D("video"),this.h()},l(t){e=k(t,"VIDEO",{class:!0}),L(e).forEach($),this.h()},h(){R(e,"class","w-screen h-screen bg-black")},m(t,i){b(t,e,i),d[7](e)},p:j,i:j,o:j,d(t){t&&$(e),d[7](null)}}}function pe(d){let e;return{c(){e=q("CEK DOKUMEN")},l(t){e=x(t,"CEK DOKUMEN")},m(t,i){b(t,e,i)},d(t){t&&$(e)}}}function _e(d){let e,t,i,a,s,n,f,v,_=ee.name+"",c,y,r,m,o,p,h,g,w,S;r=new J({props:{accent:!0,$$slots:{default:[fe]},$$scope:{ctx:d}}}),r.$on("click",d[6]);const C=[ve,ge],M=[];function Q(u,E){return u[0]=="scan"?0:1}return o=Q(d),p=M[o]=C[o](d),{c(){e=D("script"),i=P(),a=D("div"),s=D("div"),n=D("img"),v=P(),c=q(_),y=P(),A(r.$$.fragment),m=P(),p.c(),h=z(),this.h()},l(u){const E=se('[data-svelte="svelte-1dc1fx2"]',X.head);e=k(E,"SCRIPT",{src:!0});var W=L(e);W.forEach($),E.forEach($),i=I(u),a=k(u,"DIV",{class:!0});var T=L(a);s=k(T,"DIV",{class:!0});var V=L(s);n=k(V,"IMG",{src:!0,alt:!0,class:!0}),v=I(V),c=x(V,_),V.forEach($),y=I(T),B(r.$$.fragment,T),T.forEach($),m=I(u),p.l(u),h=z(),this.h()},h(){K(e.src,t="https://www.google.com/recaptcha/api.js?render=explicit")||R(e,"src",t),e.async=!0,e.defer=!0,K(n.src,f="/favicon.png")||R(n,"src",f),R(n,"alt","icon"),R(n,"class","h-8"),R(s,"class","flex gap-2 py-2 text-base-800 text-2xl font-bold"),R(a,"class","flex justify-between fixed top-0 z-50 p-6 bg-base-100 w-full")},m(u,E){O(X.head,e),b(u,i,E),b(u,a,E),O(a,s),O(s,n),O(s,v),O(s,c),O(a,y),N(r,a,null),b(u,m,E),M[o].m(u,E),b(u,h,E),g=!0,w||(S=Y(s,"click",d[4]),w=!0)},p(u,[E]){const W={};E&2049&&(W.$$scope={dirty:E,ctx:u}),r.$set(W);let T=o;o=Q(u),o===T?M[o].p(u,E):(le(),F(M[T],1,1,()=>{M[T]=null}),ne(),p=M[o],p?p.p(u,E):(p=M[o]=C[o](u),p.c()),H(p,1),p.m(h.parentNode,h))},i(u){g||(H(r.$$.fragment,u),H(p),g=!0)},o(u){F(r.$$.fragment,u),F(p),g=!1},d(u){$(e),u&&$(i),u&&$(a),U(r),u&&$(m),M[o].d(u),u&&$(h),w=!1,S()}}}function ye(d){console.log("decoded qr code:",d),location.href=d.data}function we(d,e,t){let i="scan",a,s,n={};function f(){t(2,n.captcha=null,n),ue("post","dokumen/verify",n).then(o=>{console.log(o)}).catch(o=>{})}function v(o){t(2,n.captcha=o,n)}function _(){grecaptcha.render("recaptcha",{sitekey:ee.recaptchaKey,callback:v})}function c(){s?(s.stop(),setTimeout(()=>{s.destroy(),t(5,s=null),document.querySelectorAll(".scan-region-highlight").forEach(o=>o.parentNode.removeChild(o)),location.href="/"},100)):location.href="/"}const y=()=>t(0,i=i=="scan"?"upload":"scan");function r(o){Z[o?"unshift":"push"](()=>{a=o,t(1,a)})}function m(o){d.$$.not_equal(n.file,o)&&(n.file=o,t(2,n))}return d.$$.update=()=>{d.$$.dirty&35&&i==="scan"&&G&&(s||setTimeout(()=>{const o={highlightScanRegion:!0,highlightCodeOutline:!0};t(5,s=new l(a,ye,o)),s.start()},100)),d.$$.dirty&33&&i==="upload"&&G&&(s&&(s.stop(),setTimeout(()=>{s.destroy(),t(5,s=null),document.querySelectorAll(".scan-region-highlight").forEach(o=>o.parentNode.removeChild(o))},100)),setTimeout(_,200))},[i,a,n,f,c,s,y,r,m]}class Re extends te{constructor(e){super(),ie(this,e,we,_e,ae,{})}}export{Re as default};
